---
title: "Redis"
date: 2021-08-10T20:12:52+08:00
draft: true
---

### 缓存雪崩
> 缓存雪崩主要在于定时任务刷新缓存时，批量数据的过期时间一致

缓存雪崩使用随机过期时间或者主动更新缓存结合缓存永不过期

### 缓存穿透
> 缓存穿透主要在于查询不存在的key

缓存穿透使用布隆过滤器来过滤一定不存在的数据

### 缓存击穿
> 缓存击穿主要在于单体数据的过期

缓存击穿使用主动更新缓存结合缓存永不过期


### 存储方式
#### RDB
RDB类似快照（copy on write）

RDB优点：数据恢复速度快；缺点：数据丢失范围较大，会出现短暂性服务不可用

#### AOF
AOF类似MySQL的bin log

AOF优点：数据较为齐全、append模式的优点；缺点：文件比RDB的大，占用写的资源，恢复时间比较长

#### 实践
RDB恢复到具体点，然后通过AOF来恢复到最新时间点

### 缓存模式
Cache Aside 更新模式（常用模式）
Read/Write Through 更新模式
Write Behind Caching 更新模式